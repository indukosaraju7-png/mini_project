import{a as i}from"./stimulus-helpers-Bg5ApOVk-1.js";import{C as r}from"./stimulus-Cq41p_up-1.js";import{g as a}from"./ajax-helpers-BQLKOG2a-1.js";import e from"./init-user-CLXATX98-1.js";import"./index-C4xxlH8f-1.js";import"./_commonjsHelpers-BosuxZz1-1.js";import"./modal_helpers-SODIeXFK-1.js";import"./helpers-DWGVlOV6-1.js";import"./js-Cz0CWeBA-1.js";class t extends r{connect(){this.showDunningPayment(),this.showLoginModalBeforePurchaseModal("upgrade_modal"),this.showLoginModalBeforePurchaseModal("rebuy_credits"),this.showLoginModalBeforePurchaseModal("reactivation_modal")}showDunningPayment(){const o=window.location.search.slice(1);if(window.location.pathname!=="/"||!o)return;const n=new URLSearchParams(o);n.has("dunning_update_payment")&&n.get("dunning_update_payment")==="true"&&(e.signedIn?(a("/account/billing/info-modal?origin=Trigger-Dunning_Email"),window.history.pushState(window.history.state,"","/")):a("/users/sign_in?dunning_update_payment=true&origin=Trigger-Dunning_Email"))}showLoginModalBeforePurchaseModal(o){const n=window.location.search.slice(1);if(window.location.pathname!=="/"||!n)return;new URLSearchParams(n).has(o)&&(e.signedIn||a(`/users/sign_in?${o}=true`))}}i({name:"page-load-purchase-modals",import:t});export{t as default};

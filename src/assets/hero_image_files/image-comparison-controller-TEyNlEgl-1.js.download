import{a as n}from"./stimulus-helpers-Bg5ApOVk-1.js";import{C as g}from"./stimulus-Cq41p_up-1.js";import{b as i}from"./ez-custom-events-B9oXrnTo-1.js";const r=class r extends g{constructor(){super(...arguments),this.rangeChange=()=>{this.updateSliderPosition()},this.updateSliderPosition=(e=this.rangeSliderTarget.value)=>{this.beforeImageTarget.style.clipPath=`inset(0 ${100-e}% 0 0)`,this.dividerTarget.style.left=`${e}%`,this.rangeSliderTarget.value=e},this.swapComparsionImagesSources=e=>{const{before:s,after:a}=e.detail;Object.assign(this.beforeImageTarget,{src:s.src,srcset:s.srcset}),Object.assign(this.afterImageTarget,{src:a.src,srcset:a.srcset}),this.updateSliderPosition(50)}}connect(){this.rangeSliderTarget.addEventListener("input",this.rangeChange),this.rangeSliderTarget.addEventListener("change",this.rangeChange),window.addEventListener(i,this.swapComparsionImagesSources)}disconnect(){this.rangeSliderTarget.removeEventListener("input",this.rangeChange),this.rangeSliderTarget.removeEventListener("change",this.rangeChange),window.removeEventListener(i,this.swapComparsionImagesSources)}};r.targets=["divider","rangeSlider","beforeImage","afterImage"];let t=r;n({name:"image-comparison",import:t});export{t as default};

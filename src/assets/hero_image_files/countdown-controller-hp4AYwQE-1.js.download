import{a as n}from"./stimulus-helpers-Bg5ApOVk-1.js";import o from"./ez-base-controller-DuL8VR07-1.js";import{k as l}from"./helpers-DWGVlOV6-1.js";import"./stimulus-Cq41p_up-1.js";import"./js-Cz0CWeBA-1.js";import"./init-user-CLXATX98-1.js";const c=["hrs","mins","secs"],s=class s extends o{constructor(){super(...arguments),this.timer=null,this.updateTimer=()=>{const t=this.calculateTimerValue();if(!t){clearInterval(this.timer),this.element.classList.add("expired");return}const e=Object.keys(t);for(let i=0;i<e.length;i+=1){const r=e[i];this[`has${l(r)}Target`]&&(this[`${r}Target`].textContent=this.formattedValue(r,t))}}}connect(){window.innerWidth<this.minWidthValue&&this.element.remove();const t=parseInt(this.endValue,10);this.countdownDate=new Date(t).getTime(),this.timer=setInterval(this.updateTimer,1e3),this.flagLoaded()}disconnect(){clearInterval(this.timer)}formattedValue(t,e){return this.leadingZeroesValue&&c.includes(t)?String(e[t]).padStart(2,"0"):e[t]}calculateTimerValue(){const t=Date.now(),e=this.countdownDate-t;return e<0?!1:{days:Math.floor(e/(1e3*60*60*24)),hrs:Math.floor(e%(1e3*60*60*24)/(1e3*60*60)),mins:Math.floor(e%(1e3*60*60)/(1e3*60)),secs:Math.floor(e%(1e3*60)/1e3)}}};s.values={end:String,minWidth:Number,leadingZeroes:Boolean},s.targets=["days","hrs","mins","secs"];let a=s;n({name:"countdown",import:a});export{a as default};

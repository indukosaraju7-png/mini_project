import{a as m}from"./stimulus-helpers-Bg5ApOVk-1.js";import u from"./ez-base-controller-DuL8VR07-1.js";import{p as d,O as p}from"./helpers-DWGVlOV6-1.js";import{sendTrackingEvent as f}from"./tracking-ChOFcS2D-1.js";import"./stimulus-Cq41p_up-1.js";import"./js-Cz0CWeBA-1.js";import"./init-user-CLXATX98-1.js";import"./actions-C6z5I147-1.js";const i=class i extends u{connect(){if(this.hasConnectEventActionValue){const t={action:this.connectEventActionValue,sendFromBody:!1,params:null};this.hasConnectEventLabelValue&&(t.label=this.connectEventLabelValue),this.track({currentTarget:this.element,params:t})}}track(t){const{action:n,label:e,value:o,sendFromBody:c=!1,...l}=t.params;if(n===void 0)return;const a={action:n};e!==void 0&&(a.label=e),o!==void 0&&(a.value=o),Object.assign(a,l),Object.assign(a,this.processIncludedData());const r={data:a};d(c)!==!0&&(r.element=t.currentTarget),f(r)}processIncludedData(){if(!this.hasIncludeDataValue)return{};const t={};return this.includeDataValue.split(",").map(e=>e.trim()).forEach(e=>{t[e]=this.element.dataset[p(e)]}),t}};i.values={includeData:String,connectEventAction:String,connectEventLabel:String};let s=i;m({name:"track-event",import:s});export{s as default};

import{a}from"./stimulus-helpers-Bg5ApOVk-1.js";import i from"./form-controller-6xgqIUJZ-1.js";import{deleteCompleteEventSources as o,trackCompleteEvent as m,findReferringCategory as n,sendTrackingEvent as r}from"./tracking-ChOFcS2D-1.js";import s from"./sensitive-fields-DfmVbDYc-1.js";import{bm as l,aB as p,av as c}from"./actions-C6z5I147-1.js";import"./stimulus-Cq41p_up-1.js";import"./preload-helper-cYIQMxwj-1.js";import"./ez-base-controller-DuL8VR07-1.js";import"./rails-ujs-DLwK8N9E-1.js";import"./form-validator-Dmr5dG9u-1.js";import"./helpers-DWGVlOV6-1.js";import"./js-Cz0CWeBA-1.js";import"./init-user-CLXATX98-1.js";import"./error-helpers-Ddtgi0dg-1.js";import"./validation-helpers-DvJ6JeNd-1.js";import"./animated-label-BkFUOxcC-1.js";import"./button-helpers-CvZG-X-W-1.js";class d extends i{connect(){super.connect(),this.trackTriggerEvent(),s(),o()}validateAndSubmit(){this.validator.preSubmitValidate(),this.validator.valid?(this.trackFormComplete(),this.submit(),m({action:l,category:n(this.element),label:"Sign_In-Email",dataLayerCompleteAttrs:["email_address","email_hash_md5","email_hash_sha1","sign_in_type","name","country","postal_code"]})):super.hideSpinner()}trackCreate(t){r({element:t.target,data:{action:p}})}trackTriggerEvent(){const e=new URLSearchParams(window.location.search).get("referring_conversions_category");(e==="Trigger-Reset_Password_Token_Invalid"||e==="Trigger-Devise_Failure")&&r({data:{category:e,action:c}})}}a({name:"login-form",import:d});export{d as default};

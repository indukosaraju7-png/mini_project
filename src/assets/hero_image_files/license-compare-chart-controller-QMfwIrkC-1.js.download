import{a as registerController}from"./stimulus-helpers-Bg5ApOVk-1.js";import{C as Controller}from"./stimulus-Cq41p_up-1.js";import{i as initTooltips}from"./tooltips-Pk3PqIH6-1.js";import{findCategoryByElement,sendTrackingEvent,trackCompleteEvent}from"./tracking-ChOFcS2D-1.js";import{z as JOIN_PRO_CLICK,A as JOIN_PRO_COMPLETE}from"./actions-C6z5I147-1.js";import{r as returnAjaxGet}from"./ajax-helpers-BQLKOG2a-1.js";import"./preload-helper-cYIQMxwj-1.js";import"./js-Cz0CWeBA-1.js";import"./helpers-DWGVlOV6-1.js";import"./init-user-CLXATX98-1.js";import"./index-C4xxlH8f-1.js";import"./_commonjsHelpers-BosuxZz1-1.js";import"./modal_helpers-SODIeXFK-1.js";const _LicenseCompareChartController=class _LicenseCompareChartController extends Controller{connect(){this.element.querySelectorAll(".ez-tooltip-icon").length>0&&initTooltips(),this.monitorSubtextOverflow(),window.addEventListener("resize",this.monitorSubtextOverflow)}disconnect(){window.removeEventListener("resize",this.monitorSubtextOverflow)}proClick(r){r.preventDefault();const{target:e,params:t}=r,o=findCategoryByElement(e);sendTrackingEvent({element:e,data:{action:JOIN_PRO_CLICK,category:o}}),trackCompleteEvent({action:JOIN_PRO_COMPLETE,category:o});const s=new URL(e.href);s.searchParams.set("resource_id",t.resource),window.Turbo.visit(s.toString())}contactClick(r){r.preventDefault();const{target:e,params:t}=r,o=new URL(e.href);o.searchParams.set("resource_id",t.resource),o.searchParams.set("contact_reason",t.contactReason),window.Turbo.visit(o.toString())}async extendedClick(event){event.preventDefault();const{target,params}=event,pricingResourceUrl=new URL(target.href);pricingResourceUrl.searchParams.set("resource_id",params.resource);const result=await returnAjaxGet(pricingResourceUrl.toString());eval(result.data)}toggleLicenseDropdown(r){const e=r.currentTarget.closest(".license-compare-chart__license-type-block"),t=e.querySelector(".license-compare-chart__license-type-block__features-list"),o=e.querySelector(".license-compare-chart__license-type-block__features-wrapper span"),s=e.querySelector(".license-compare-chart__license-type-block__drop-down-icon"),a=r.currentTarget.dataset.value,n="license-compare-chart__license-type-block__features-list__show";a==="hidden"?(t.classList.add(n),o.textContent="Hide features",s.style.transform="rotate(180deg)",r.currentTarget.dataset.value="show"):(t.classList.remove(n),o.textContent="Show features",s.style.transform="none",r.currentTarget.dataset.value="hidden")}monitorSubtextOverflow(){document.querySelectorAll(".license-compare-chart__license-type-block__subheader").forEach(e=>{const t=e.querySelector(".license-compare-chart__license-type-block__tooltip-icon"),s=parseFloat(window.getComputedStyle(e).lineHeight)*3;e.scrollHeight>s?(t.style.display="inline-block",t.style.position="absolute",t.style.left=`${e.offsetWidth+10}px`,t.style.top="0px"):t.style.display="none"})}};_LicenseCompareChartController.values=["resource"];let LicenseCompareChartController=_LicenseCompareChartController;registerController({name:"license-compare-chart",import:LicenseCompareChartController});export{LicenseCompareChartController as default};

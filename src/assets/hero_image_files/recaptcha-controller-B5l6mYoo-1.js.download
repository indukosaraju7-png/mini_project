import{a as s}from"./stimulus-helpers-Bg5ApOVk-1.js";import r from"./ez-base-controller-DuL8VR07-1.js";import{$ as n}from"./script-DvwBHpmS-1.js";import{o as p}from"./helpers-DWGVlOV6-1.js";import"./stimulus-Cq41p_up-1.js";import"./_commonjsHelpers-BosuxZz1-1.js";import"./js-Cz0CWeBA-1.js";import"./init-user-CLXATX98-1.js";const e=class e extends r{constructor(){super(...arguments),this.grecaptchaReady=!1,this.recaptchaCallback=()=>{this.grecaptchaReady=!0},this.rescaleCaptcha=t=>{const a=t.parentNode.clientWidth,i=a<302&&a!==0?a/302:1;t.style.transform=`scale(${i})`,t.style.transformOrigin="0 0"}}connect(){p()||this.initRecaptcha()}initRecaptcha(){window.recaptchaCallback=this.recaptchaCallback,typeof window.grecaptcha<"u"?this.recaptchaCallback():n("https://www.google.com/recaptcha/api.js?onload=recaptchaCallback&render=explicit")}captchaHolderTargetConnected(t){const a=setInterval(()=>{typeof window.grecaptcha<"u"&&this.grecaptchaReady&&(clearInterval(a),this.renderCaptchaForElement(t))},100)}captchaHolderTargetDisconnected(t){t.dataset.captchaType!=="invisible"&&window.removeEventListener("resize",this.rescaleCaptcha)}renderCaptchaForElement(t){const a={sitekey:this.siteKeyValue};t.dataset.captchaType==="invisible"?(a.size="invisible",a.badge="inline"):(this.rescaleCaptcha(t),window.addEventListener("resize",this.rescaleCaptcha));const i=window.grecaptcha.render(t,a);t.dataset.recaptchaId=i}};e.values={siteKey:String},e.targets=["captchaHolder"];let c=e;s({name:"recaptcha",import:c});export{c as default};

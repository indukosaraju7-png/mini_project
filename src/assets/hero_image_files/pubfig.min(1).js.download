(()=>{var Fi=Object.create;var Ht=Object.defineProperty,Bi=Object.defineProperties,Gi=Object.getOwnPropertyDescriptor,Vi=Object.getOwnPropertyDescriptors,Yi=Object.getOwnPropertyNames,Sr=Object.getOwnPropertySymbols,Hi=Object.getPrototypeOf,Ar=Object.prototype.hasOwnProperty,ji=Object.prototype.propertyIsEnumerable;var Yt=(t,e,r)=>e in t?Ht(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,H=(t,e)=>{for(var r in e||(e={}))Ar.call(e,r)&&Yt(t,r,e[r]);if(Sr)for(var r of Sr(e))ji.call(e,r)&&Yt(t,r,e[r]);return t},fe=(t,e)=>Bi(t,Vi(e));var vr=(t=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(t,{get:(e,r)=>(typeof require!="undefined"?require:e)[r]}):t)(function(t){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var rt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ki=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Yi(e))!Ar.call(t,n)&&n!==r&&Ht(t,n,{get:()=>e[n],enumerable:!(i=Gi(e,n))||i.enumerable});return t};var Tr=(t,e,r)=>(r=t!=null?Fi(Hi(t)):{},Ki(e||!t||!t.__esModule?Ht(r,"default",{value:t,enumerable:!0}):r,t));var de=(t,e,r)=>Yt(t,typeof e!="symbol"?e+"":e,r);var x=(t,e,r)=>new Promise((i,n)=>{var a=l=>{try{o(r.next(l))}catch(h){n(h)}},s=l=>{try{o(r.throw(l))}catch(h){n(h)}},o=l=>l.done?i(l.value):Promise.resolve(l.value).then(a,s);o((r=r.apply(t,e)).next())});var Hr=rt((Bo,Yr)=>{"use strict";var Qi=function(e){return Ji(e)&&!Xi(e)};function Ji(t){return!!t&&typeof t=="object"}function Xi(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||tn(t)}var Zi=typeof Symbol=="function"&&Symbol.for,en=Zi?Symbol.for("react.element"):60103;function tn(t){return t.$$typeof===en}function rn(t){return Array.isArray(t)?[]:{}}function ke(t,e){return e.clone!==!1&&e.isMergeableObject(t)?ve(rn(t),t,e):t}function nn(t,e,r){return t.concat(e).map(function(i){return ke(i,r)})}function on(t,e){if(!e.customMerge)return ve;var r=e.customMerge(t);return typeof r=="function"?r:ve}function sn(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function Gr(t){return Object.keys(t).concat(sn(t))}function Vr(t,e){try{return e in t}catch(r){return!1}}function an(t,e){return Vr(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function cn(t,e,r){var i={};return r.isMergeableObject(t)&&Gr(t).forEach(function(n){i[n]=ke(t[n],r)}),Gr(e).forEach(function(n){an(t,n)||(Vr(t,n)&&r.isMergeableObject(e[n])?i[n]=on(n,r)(t[n],e[n],r):i[n]=ke(e[n],r))}),i}function ve(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||nn,r.isMergeableObject=r.isMergeableObject||Qi,r.cloneUnlessOtherwiseSpecified=ke;var i=Array.isArray(e),n=Array.isArray(t),a=i===n;return a?i?r.arrayMerge(t,e,r):cn(t,e,r):ke(e,r)}ve.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(i,n){return ve(i,n,r)},{})};var fn=ve;Yr.exports=fn});var ti=rt(()=>{});var ii=rt((wt,ri)=>{(function(t,e){typeof wt=="object"?ri.exports=wt=e():typeof define=="function"&&define.amd?define([],e):t.CryptoJS=e()})(wt,function(){var t=t||function(e,r){var i;if(typeof window!="undefined"&&window.crypto&&(i=window.crypto),typeof self!="undefined"&&self.crypto&&(i=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window!="undefined"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof global!="undefined"&&global.crypto&&(i=global.crypto),!i&&typeof vr=="function")try{i=ti()}catch(m){}var n=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch(m){}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch(m){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function m(){}return function(g){var O;return m.prototype=g,O=new m,m.prototype=null,O}}(),s={},o=s.lib={},l=o.Base=function(){return{extend:function(m){var g=a(this);return m&&g.mixIn(m),(!g.hasOwnProperty("init")||this.init===g.init)&&(g.init=function(){g.$super.init.apply(this,arguments)}),g.init.prototype=g,g.$super=this,g},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var g in m)m.hasOwnProperty(g)&&(this[g]=m[g]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=o.WordArray=l.extend({init:function(m,g){m=this.words=m||[],g!=r?this.sigBytes=g:this.sigBytes=m.length*4},toString:function(m){return(m||I).stringify(this)},concat:function(m){var g=this.words,O=m.words,T=this.sigBytes,C=m.sigBytes;if(this.clamp(),T%4)for(var D=0;D<C;D++){var ae=O[D>>>2]>>>24-D%4*8&255;g[T+D>>>2]|=ae<<24-(T+D)%4*8}else for(var V=0;V<C;V+=4)g[T+V>>>2]=O[V>>>2];return this.sigBytes+=C,this},clamp:function(){var m=this.words,g=this.sigBytes;m[g>>>2]&=4294967295<<32-g%4*8,m.length=e.ceil(g/4)},clone:function(){var m=l.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var g=[],O=0;O<m;O+=4)g.push(n());return new h.init(g,m)}}),S=s.enc={},I=S.Hex={stringify:function(m){for(var g=m.words,O=m.sigBytes,T=[],C=0;C<O;C++){var D=g[C>>>2]>>>24-C%4*8&255;T.push((D>>>4).toString(16)),T.push((D&15).toString(16))}return T.join("")},parse:function(m){for(var g=m.length,O=[],T=0;T<g;T+=2)O[T>>>3]|=parseInt(m.substr(T,2),16)<<24-T%8*4;return new h.init(O,g/2)}},v=S.Latin1={stringify:function(m){for(var g=m.words,O=m.sigBytes,T=[],C=0;C<O;C++){var D=g[C>>>2]>>>24-C%4*8&255;T.push(String.fromCharCode(D))}return T.join("")},parse:function(m){for(var g=m.length,O=[],T=0;T<g;T++)O[T>>>2]|=(m.charCodeAt(T)&255)<<24-T%4*8;return new h.init(O,g)}},y=S.Utf8={stringify:function(m){try{return decodeURIComponent(escape(v.stringify(m)))}catch(g){throw new Error("Malformed UTF-8 data")}},parse:function(m){return v.parse(unescape(encodeURIComponent(m)))}},A=o.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(m){typeof m=="string"&&(m=y.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var g,O=this._data,T=O.words,C=O.sigBytes,D=this.blockSize,ae=D*4,V=C/ae;m?V=e.ceil(V):V=e.max((V|0)-this._minBufferSize,0);var te=V*D,we=e.min(te*4,C);if(te){for(var ce=0;ce<te;ce+=D)this._doProcessBlock(T,ce);g=T.splice(0,te),O.sigBytes-=we}return new h.init(g,we)},clone:function(){var m=l.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0}),L=o.Hasher=A.extend({cfg:l.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){A.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){m&&this._append(m);var g=this._doFinalize();return g},blockSize:512/32,_createHelper:function(m){return function(g,O){return new m.init(O).finalize(g)}},_createHmacHelper:function(m){return function(g,O){return new M.HMAC.init(m,O).finalize(g)}}}),M=s.algo={};return s}(Math);return t})});var oi=rt((_t,ni)=>{(function(t,e){typeof _t=="object"?ni.exports=_t=e(ii()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(_t,function(t){return function(e){var r=t,i=r.lib,n=i.WordArray,a=i.Hasher,s=r.algo,o=[];(function(){for(var y=0;y<64;y++)o[y]=e.abs(e.sin(y+1))*4294967296|0})();var l=s.MD5=a.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(y,A){for(var L=0;L<16;L++){var M=A+L,m=y[M];y[M]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360}var g=this._hash.words,O=y[A+0],T=y[A+1],C=y[A+2],D=y[A+3],ae=y[A+4],V=y[A+5],te=y[A+6],we=y[A+7],ce=y[A+8],We=y[A+9],Qe=y[A+10],Je=y[A+11],Xe=y[A+12],Ze=y[A+13],et=y[A+14],tt=y[A+15],w=g[0],_=g[1],b=g[2],E=g[3];w=h(w,_,b,E,O,7,o[0]),E=h(E,w,_,b,T,12,o[1]),b=h(b,E,w,_,C,17,o[2]),_=h(_,b,E,w,D,22,o[3]),w=h(w,_,b,E,ae,7,o[4]),E=h(E,w,_,b,V,12,o[5]),b=h(b,E,w,_,te,17,o[6]),_=h(_,b,E,w,we,22,o[7]),w=h(w,_,b,E,ce,7,o[8]),E=h(E,w,_,b,We,12,o[9]),b=h(b,E,w,_,Qe,17,o[10]),_=h(_,b,E,w,Je,22,o[11]),w=h(w,_,b,E,Xe,7,o[12]),E=h(E,w,_,b,Ze,12,o[13]),b=h(b,E,w,_,et,17,o[14]),_=h(_,b,E,w,tt,22,o[15]),w=S(w,_,b,E,T,5,o[16]),E=S(E,w,_,b,te,9,o[17]),b=S(b,E,w,_,Je,14,o[18]),_=S(_,b,E,w,O,20,o[19]),w=S(w,_,b,E,V,5,o[20]),E=S(E,w,_,b,Qe,9,o[21]),b=S(b,E,w,_,tt,14,o[22]),_=S(_,b,E,w,ae,20,o[23]),w=S(w,_,b,E,We,5,o[24]),E=S(E,w,_,b,et,9,o[25]),b=S(b,E,w,_,D,14,o[26]),_=S(_,b,E,w,ce,20,o[27]),w=S(w,_,b,E,Ze,5,o[28]),E=S(E,w,_,b,C,9,o[29]),b=S(b,E,w,_,we,14,o[30]),_=S(_,b,E,w,Xe,20,o[31]),w=I(w,_,b,E,V,4,o[32]),E=I(E,w,_,b,ce,11,o[33]),b=I(b,E,w,_,Je,16,o[34]),_=I(_,b,E,w,et,23,o[35]),w=I(w,_,b,E,T,4,o[36]),E=I(E,w,_,b,ae,11,o[37]),b=I(b,E,w,_,we,16,o[38]),_=I(_,b,E,w,Qe,23,o[39]),w=I(w,_,b,E,Ze,4,o[40]),E=I(E,w,_,b,O,11,o[41]),b=I(b,E,w,_,D,16,o[42]),_=I(_,b,E,w,te,23,o[43]),w=I(w,_,b,E,We,4,o[44]),E=I(E,w,_,b,Xe,11,o[45]),b=I(b,E,w,_,tt,16,o[46]),_=I(_,b,E,w,C,23,o[47]),w=v(w,_,b,E,O,6,o[48]),E=v(E,w,_,b,we,10,o[49]),b=v(b,E,w,_,et,15,o[50]),_=v(_,b,E,w,V,21,o[51]),w=v(w,_,b,E,Xe,6,o[52]),E=v(E,w,_,b,D,10,o[53]),b=v(b,E,w,_,Qe,15,o[54]),_=v(_,b,E,w,T,21,o[55]),w=v(w,_,b,E,ce,6,o[56]),E=v(E,w,_,b,tt,10,o[57]),b=v(b,E,w,_,te,15,o[58]),_=v(_,b,E,w,Ze,21,o[59]),w=v(w,_,b,E,ae,6,o[60]),E=v(E,w,_,b,Je,10,o[61]),b=v(b,E,w,_,C,15,o[62]),_=v(_,b,E,w,We,21,o[63]),g[0]=g[0]+w|0,g[1]=g[1]+_|0,g[2]=g[2]+b|0,g[3]=g[3]+E|0},_doFinalize:function(){var y=this._data,A=y.words,L=this._nDataBytes*8,M=y.sigBytes*8;A[M>>>5]|=128<<24-M%32;var m=e.floor(L/4294967296),g=L;A[(M+64>>>9<<4)+15]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,A[(M+64>>>9<<4)+14]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,y.sigBytes=(A.length+1)*4,this._process();for(var O=this._hash,T=O.words,C=0;C<4;C++){var D=T[C];T[C]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}return O},clone:function(){var y=a.clone.call(this);return y._hash=this._hash.clone(),y}});function h(y,A,L,M,m,g,O){var T=y+(A&L|~A&M)+m+O;return(T<<g|T>>>32-g)+A}function S(y,A,L,M,m,g,O){var T=y+(A&M|L&~M)+m+O;return(T<<g|T>>>32-g)+A}function I(y,A,L,M,m,g,O){var T=y+(A^L^M)+m+O;return(T<<g|T>>>32-g)+A}function v(y,A,L,M,m,g,O){var T=y+(L^(A|~M))+m+O;return(T<<g|T>>>32-g)+A}r.MD5=a._createHelper(l),r.HmacMD5=a._createHmacHelper(l)}(Math),t.MD5})});var _e={pubfigEngineLoadInit:"pubfig-engine-load-init",pubfigEngineSetupStart:"pubfig-engine-setup-start",pubfigEngineLoad:"pubfig-engine-load",pubfigSlotRequested:"pubfig-slotRequested",pubfigStickyFooterSlotRequested:"pubfig-sticky-footer-slotRequested",pubfigSlotRenderEnded:"pubfig-slotRenderEnded",pubfigEngineSetupEnd:"pubfig-engine-setup-end",pubfigStickyFooterSlotRenderEnded:"pubfig-sticky-footer-slotRenderEnded",pubfigPrebidFsRequestBids:"pubfig-prebid-fsRequestBids",pubfigPrebidAuctionInit:"pubfig-prebid-auctionInit",pubfigPrebidAuctionEnd:"pubfig-prebid-auctionEnd",pubfigLoaded:"pubfig-loaded",pubfigInitRequestStart:"pubfig-init-request-start",pubfigInitRequestEnd:"pubfig-init-request-end"};var k=(t,e=window)=>{var i,n;return(n=new URLSearchParams((i=e.location)==null?void 0:i.search).get(t))!=null?n:""},Or=(t,e=window)=>new URLSearchParams(e.location.search).has(t);var Rr={IMMEDIATE:"immediate",MAIN:"main",BEACON:"beacon",ERROR:"error"};var it=class{constructor(e,r){de(this,"type","default");this._payload=this._buildPayload(e),this._topic=r}get payload(){return this._payload}get topic(){return this._topic||Rr.MAIN}setTopic(e){this._topic=e}setType(e){this.type=e}_buildPayload(e){return e||{}}};var $=class extends it{constructor(){super(...arguments);de(this,"type","customEvent")}_buildPayload(r){let{eventType:i,data:n,eventName:a}=r;return{eventType:i,eventName:a,jsonValue:JSON.stringify(n)}}};var nt=t=>{let{dependencies:e,name:r}=t||{};if(e){if(!Array.isArray(e))throw new Error(`Module Definition Error: ${r}. Dependencies must be an array.`);e.forEach(i=>{let{token:n}=typeof i=="string"?{token:i}:i;if(!n)throw new Error(`Module Definition Error: ${r}. Dependency must contain a token.`);if(typeof n!="string")throw new Error(`Module Definition Error: ${r}. Token must be a string.`)})}},Se=t=>t.charAt(0).toLowerCase()+t.slice(1);var Ae={SINGLETON:"singleton",FOR_FEATURE:"forFeature"};var ot=class t{constructor(){this._modules=new Map}static get instance(){return this._instance||(this._instance=new t),this._instance}set(e,r){var i;if(!e)throw new Error("Token must be provided");if(this._modules.has(e))throw new Error(`Module with token ${e} already exists`);if((i=r.dependencies)!=null&&i.length&&new Set(r.dependencies).size!==r.dependencies.length)throw new Error(`Duplicated dependencies found in module ${e}.`);this._modules.set(e,r)}get(e){return this._modules.get(e)}has(e){return this._modules.has(e)}delete(e){this._modules.delete(e)}getAlias(e){let r=this.get(e);return r==null?void 0:r.defaultAlias}clear(){this._modules.clear()}static class(e,{token:r,factory:i,dependencies:n=[],injectionMode:a=Ae.SINGLETON,defaultAlias:s}){if(!e)throw new Error("Class must be provided");if(!r)throw new Error("Token must be provided");nt({dependencies:n,name:e.name}),t.instance.set(r,{factory:i||(({dependencies:o})=>new e(o)),dependencies:n,injectionMode:a,defaultAlias:s||Se(r),type:"classModule"})}static object({token:e,value:r,factory:i,dependencies:n,injectionMode:a=Ae.SINGLETON,defaultAlias:s}){if(!e)throw new Error("Token must be provided");if(!r&&!i)throw new Error("Value or factory must be provided");nt({dependencies:n,name:e}),t.instance.set(e,{value:r,factory:i,dependencies:n,injectionMode:a,defaultAlias:s||Se(e),type:"object"})}static function(e,{token:r,dependencies:i,defaultAlias:n}={}){if(!e)throw new Error("Function must be provided");if(!r)throw new Error("Token must be provided");nt({dependencies:i,name:r}),t.instance.set(r,{dependencies:i,defaultAlias:n||Se(r),func:e,type:"function"})}};var st=class t{constructor(e){this._moduleRegistry=e,this._moduleInstances=new Map}static get instance(){return this._instance||(this._instance=new t(ot.instance)),this._instance}set(e,r){this._moduleInstances.set(e,r)}clear(){this._moduleInstances.clear()}get(e){return this._moduleInstances.get(e)}delete(e){this._moduleInstances.delete(e)}call(e,...r){return x(this,null,function*(){let i=this._moduleRegistry.get(e);if(!i)throw new Error(`Module with token "${e}" does not exist`);let{dependencies:n,type:a,func:s}=i;if(a!=="function")throw new Error(`Module with token "${e}" is not a function type`);let o=yield this._resolveDependencies({token:e,dependencies:n});return s(o,...r)})}create(i){return x(this,arguments,function*(e,{provide:r={}}={}){let n=this._moduleRegistry.get(e);if(!n)throw new Error(`Module with token "${e}" does not exist`);let{dependencies:a=[],factory:s,value:o,func:l}=n,h=a.filter(I=>{let v=this._getDependencyObject(I),A=v.alias||this._moduleRegistry.getAlias(v.token)||Se(v.token);return!r[A]});return this._resolveDependencies({token:e,dependencies:h}).then(I=>this._createInstance({token:e,dependencies:H(H({},I),r),container:this,factory:s,value:o,func:l}))})}resolve(e,r){return x(this,null,function*(){return this._resolve({token:e,optional:r})})}resolveAll(e){return x(this,null,function*(){if(!Array.isArray(e))throw new Error("Tokens must be an array");return this._resolveDependencies({dependencies:e})})}has(e){return this._moduleInstances.has(e)}_resolve(a){return x(this,arguments,function*({token:e,resolvedDeps:r=new Set,parentToken:i,optional:n}){if(!this._moduleRegistry.has(e)){if(n)return null;throw new Error(`${[...r,e].join(" -> ")}. Module with token "${e}" does not exist`)}let s=this._moduleRegistry.get(e),{dependencies:o=[],factory:l,value:h,func:S,injectionMode:I=Ae.SINGLETON}=s;if(i&&I===Ae.FOR_FEATURE&&(e=`${i}:${e}`),this.has(e))return this.get(e);if(r.has(e))throw new Error(`Circular dependency detected: ${Array.from(r).join(" -> ")} ->${e}`);r.add(e);let v=this._resolveDependencies({token:e,dependencies:o,resolvedDeps:r}).then(y=>this._createInstance({token:e,dependencies:y,container:this,factory:l,value:h,func:S}));return this.set(e,v),v.then&&v.then(y=>{this.set(e,y)}),v})}_resolveDependencies(n){return x(this,arguments,function*({token:e,dependencies:r,resolvedDeps:i}){let a=[];return r.length&&(a=yield Promise.all(r.map(s=>x(this,null,function*(){let{token:o,alias:l,optional:h}=this._getDependencyObject(s),S=yield this._resolve({token:o,resolvedDeps:new Set(i),parentToken:e,optional:h}),I=this._moduleRegistry.getAlias(o);return[l||I||o,S]})))),Object.fromEntries(a)})}_getDependencyObject(e){return typeof e=="string"?{token:e}:e}_createInstance({dependencies:e,container:r,factory:i,value:n,token:a,func:s}){if(n!==void 0)return n;if(s!==void 0)return s.bind(null,e);if(!(i instanceof Function))throw new Error(`Container Error: ${a}. Factory must be a function`);let o=i({dependencies:e,container:r});if(!(o instanceof Object))throw new Error(`Container Error: ${a}. Factory must return an object`);return o}};var xr={ANALYTICS:"Analytics",PERFORMANCE_LOGGER:"PerformanceLogger",DISPENSARY_DATA:"DispensaryData",AD_SLOT_SERVICE:"AdSlotService",AD_SLOTS_MANAGER:"AdSlotsManager",LOGGER:"Logger",EVENT_BUS:"EventBus",CONFIG_MANAGER:"ConfigManager",FREESTAR:"freestar",WINDOW:"window",PAGE:"Page",SESSION_STORAGE_MANAGER:"SessionStorageManager",PREBID_MANAGER:"PrebidManager",AMAZON_MANAGER:"AmazonManager",AD_QUALITY_MANAGER:"AdQualityManager",GAM_MANAGER:"GamManager",DEVICE_INFO:"deviceInfo",GEO_INFO:"geoInfo",FS_DATA:"fsdata",BID_RESPONSE_ANALYTICS_EVENT_FACTORY:"BidResponseAnalyticsEventFactory",BID_WON_ANALYTICS_EVENT_FACTORY:"BidWonAnalyticsEventFactory",BID_REQUESTED_ANALYTICS_EVENT_FACTORY:"BidRequestedAnalyticsEventFactory",DFP_RESPONSE_ANALYTICS_EVENT_FACTORY:"DfpResponseAnalyticsEventFactory",ANALYTICS_EVENT_FACTORY:"AnalyticsEventFactory",MAIN_QUEUE:"MainQueue",ERROR_QUEUE:"ErrorQueue",IMMEDIATE_QUEUE:"ImmediateQueue",BEACON_QUEUE:"BeaconQueue",ANALYTICS_MESSAGE_FACTORY:"AnalyticsMessageFactory",DATA_COLLECTOR_API:"DataCollectorAPI",IDENTITY_CONFIG:"IdentityConfig",HASHED_EMAIL_PROVIDERS:"HashedEmailProviderManager",REALTIME_PROVIDERS:"RealtimeProvidersManager",IDENTITY_MANAGER:"IdentityManager",ATS_MANAGER:"atsManager",VIDEO:"Video",STICKY_AD:"StickyAd",FOP_VIDEO_SCRIPTS:"FopVideoScripts",AUCTION_MANAGER:"AuctionManager",NATIVE_RENDER_MANAGER:"nativeRenderManager",CONFIANT:"Confiant",IN_BANNER_VIDEO_PLAYER:"InBannerVideoPlayer",OUTSTREAM_VIDEO_PLAYER:"OutstreamVideoPlayer",INCONTENT_VIDEO_AD:"InContentVideoAd",FLOATING_VIDEO_AD:"FloatingVideoAd",INCONTENT_TO_FLOATING_VIDEO_AD:"InContentToFloatingVideoAd",AD_REFRESHER:"AdRefresher",REFRESH_LIBRARY:"RefreshLibrary",STICKY_FOOTER_REFRESHER:"StickyFooterRefresher",DEFAULT_REFRESHER:"DefaultRefresher",SUPERFLEX_REFRESHER:"SuperflexRefresher",DEVICE_ORIENTATION_TRACKER:"DeviceOrientationTracker",VIRTUAL_KEYBOARD_REFRESH_CONTROL:"VirtualKeyboardRefreshControl",RENDER_BID_MIDWAY:"RenderBidMidwayManager",GLOBAL_REFRESH_USER_IDS_STATE:"GlobalRefreshUserIDsState",REBID_MANAGER:"RebidManager",MEMORY_MONITOR:"MemoryMonitor",BIDS_MANAGER:"BidsManager",OPTABLE_MANAGER:"OptableManager",ANCILLARY:"Ancillary",BRANDING:"Branding",REPORT_AD:"ReportAd",IDEAL_AD_STACK_MANAGER:"IdealAdStackManager",IIQ_MANAGER:"IntentIqManager",CONNECTID_MANAGER:"ConnectIdManager",USER_INFO_MANAGER:"UserInfoManager",AD_BLOCK:"AdBlock",URL_VALIDATOR:"UrlValidator"};function jt({type:t="div",classList:e=[],id:r=!1,src:i=!1,name:n=!1,attributes:a=[],children:s=[],style:o={},innerHTML:l,textContent:h},S=document){let I=S.createElement(t);return e.length&&(I.className=e.join(" ")),i&&(I.src=i),r&&(I.id=r),n&&I.setAttribute("name",n),Array.isArray(a)?a.forEach(v=>{Object.entries(v).forEach(([y,A])=>{I.setAttribute(y,A)})}):Object.entries(a).forEach(([v,y])=>{I.setAttribute(v,y)}),Object.keys(o).length&&qi(I,o),l&&(I.innerHTML=l),h&&(I.textContent=h),s.length&&s.forEach(v=>{v&&I.appendChild(v)}),I}var qi=(t,e)=>(t&&Object.entries(e).forEach(([r,i])=>{t.style[r]=i}),t);function $i(t,e,r=null,i,n=!0,a=!1,s=!0,o){try{let l=jt({type:"script"});t&&(l.src=t),s&&l.setAttribute("data-owner","freestar"),i&&(l.textContent=i),r&&(l.id=r),n&&(l.async=n),typeof a!="undefined"&&(l.defer=a),l.type="text/javascript";let h=null;e&&l.addEventListener("load",()=>{e(),h&&h.disconnect()},{once:!0}),o&&l.addEventListener("error",S=>{o(S),h&&h.disconnect()}),document.getElementsByTagName("head")[0].appendChild(l),"MutationObserver"in window&&(h=new MutationObserver(S=>{S.forEach(I=>{I.attributeName==="type"&&document.querySelectorAll('[type="osano/blocked"]').forEach(v=>{v===l&&(console.warn("Script was blocked by Osano:",t||r),o&&o(new Event("osano-blocked")),h.disconnect())})})}),h.observe(l,{attributes:!0,attributeFilter:["type"]}))}catch(l){st.instance.resolve(xr.ANALYTICS).then(h=>{h.track(new $({eventName:"LOAD_SCRIPT_FAILED",data:{scriptSrc:t,id:r,error:l.message}}))})}}var Nr=(t,e=null,r=null,i={})=>{let{defer:n=!1}=i;return new Promise((a,s)=>{$i(t,a,e,r,!0,n,!0,s)})};function re(t){Math.random()<.01&&freestar.analyticsQueue.push(new $({eventName:"PUBFIG_NOT_LOADED",eventType:t||"",data:{domain:window.location.hostname}}))}function at(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)t[i]=r[i]}return t}var zi={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Kt(t,e){function r(n,a,s){if(typeof document!="undefined"){s=at({},e,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var l in s)s[l]&&(o+="; "+l,s[l]!==!0&&(o+="="+s[l].split(";")[0]));return document.cookie=n+"="+t.write(a,n)+o}}function i(n){if(!(typeof document=="undefined"||arguments.length&&!n)){for(var a=document.cookie?document.cookie.split("; "):[],s={},o=0;o<a.length;o++){var l=a[o].split("="),h=l.slice(1).join("=");try{var S=decodeURIComponent(l[0]);if(s[S]=t.read(h,S),n===S)break}catch(I){}}return n?s[n]:s}}return Object.create({set:r,get:i,remove:function(n,a){r(n,"",at({},a,{expires:-1}))},withAttributes:function(n){return Kt(this.converter,at({},this.attributes,n))},withConverter:function(n){return Kt(at({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var qt=Kt(zi,{path:"/"});function $t({name:t,value:e,expires:r=void 0,path:i=void 0,domain:n=void 0}){if(!t||!e)return!1;let a={secure:!0};return r&&(a.expires=r),i&&(a.path=i),n&&(a.domain=n),qt.set(t,e,a),zt({name:t})}function zt({name:t}){return qt.get(t)}var Le="undefined",le={playwrightTestsScriptId:"fs-playwright-tests-script",abTestsScriptId:"fs-ab-tests-script",fsAltConfigScriptId:"fsaltconfig",qaScriptId:"fs-qa"},ie={fsLoadPubfigVersion:"fsLoadPubfigVersion",fsaltconfig:"fsaltconfig",fsdebug:"fsdebug"};var ct=k(ie.fsdebug),Wt=[];ct&&ct!=="true"&&!Number.isInteger(+ct)&&(Wt=ct.split(",").map(t=>t.toUpperCase()));var Wi=()=>{if(typeof freestar.debug=="number")return freestar.debug;let t=k("fslog");if(t==="true")return 99;if(t!==""&&Number.isFinite(+t))return+t},Cr=(t,...e)=>{let r="Pubfig",i="background: #00C389; color: #fff; border-radius: 3px; padding: 3px";typeof t=="object"&&(r=t.title?t.title:r,i=t.styles?t.styles:i,t=typeof t.level!="undefined"?t.level:1),!(k("fs-log-filter")&&r!==k("fs-log-filter"))&&(Wi()>=t&&Wt.length===0||Wt.includes(r.toUpperCase()))&&console.info(`%c${r}: `,i,...e)};var ft="https://d.pub.network",dt="https://c.pub.network",Dr="6.177.4",Pr="f7dc8a336bd5b53675ae2b136f25cfdc0d469997",Lr="&configId=NUMBER",Mr="&debug=true",kr="&testId=TEST_ID",Ur="&variantId=VARIANT_ID",lt="fs.abtest.group",be="fs.abtest.id",Fr="fs.abtest.type",Me="fs.abtest.variant_type",Br="fs.abtest.pubfig_location",Qt="fs.config";var Kr=Tr(Hr());var Jt={videoAdhesion:{prettyName:"Sticky Footer Video Adhesion",disabled:!1},stickyFooter:{prettyName:"Sticky Footer",disabled:!1,refreshDisabled:!1,refreshInterval:0},video:{prettyName:"Video",disabled:!1,refreshDisabled:!1,refreshInterval:0},standAloneVideo:{prettyName:"Stand Alone Video",disabled:!1,refreshDisabled:!1,refreshInterval:0},pushdown:{prettyName:"Pushdown",disabled:!1,refreshDisabled:!1,refreshInterval:0},dynamicAds:{prettyName:"Dynamic Ads",disabled:!1,refreshDisabled:!1,refreshInterval:0,optionsPath:"dynamicAdOptions"},dynamicAdsV2:{prettyName:"Dynamic Ads V2",disabled:!1,refreshDisabled:!1,refreshInterval:0,optionsPath:"dynamicAdOptionsV2"},footerBidding:{prettyName:"Footer Bidding",disabled:!1,refreshDisabled:!1,refreshInterval:0},superflex:{prettyName:"Superflex",disabled:!1,refreshDisabled:!1,refreshInterval:0},slidingUnit:{prettyName:"Sliding Unit",disabled:!1,refreshDisabled:!1,refreshInterval:0},sideWall:{prettyName:"Sidewall",disabled:!1,refreshDisabled:!1,refreshInterval:0},pageGrabber:{prettyName:"Page Grabber",disabled:!1,refreshDisabled:!1,refreshInterval:0},interstitial:{prettyName:"Interstitial",disabled:!1,refreshDisabled:!1,refreshInterval:0},googleInterstitial:{prettyName:"Google Interstitial",disabled:!1,refreshDisabled:!1,refreshInterval:0},dianomiContentRec:{prettyName:"Dianomi Content Recommendation",disabled:!1,refreshDisabled:!1,refreshInterval:0},lazyLoad:{prettyName:"Lazy Loaded Ads",disabled:!1,refreshDisabled:!1,refreshInterval:0},iai:{prettyName:"Intelligent Ad Insert",disabled:!1,refreshDisabled:!1,refreshInterval:0},stickyRail:{prettyName:"Sticky Rail",disabled:!1,refreshDisabled:!1,refreshInterval:0}};var ut={SILENT:0,CORE:5,MODULE:50,VERBOSE:99};var jr=()=>{var s;let t=k("fslog"),e=Number(t);if(String(t).trim()==="true")return ut.VERBOSE;if(e)return Math.max(e,0);let r=k("fsdebug"),i=(s=window==null?void 0:window.freestar)==null?void 0:s.debug;if(r||i)return ut.VERBOSE;let n=Number(r),a=Number(i);return Number.isInteger(a)?Math.max(a,0):Number.isInteger(n)?Math.max(n,0):ut.SILENT};var pt=class{constructor(e={}){let{config:r={}}=e;Object.assign(this,r),this.enabled_slots=r.enabled_slots||[],this.products=r.products?(0,Kr.default)(Jt,r.products):Jt,this.logLevel=jr()}resetEnabledSlots(){this.enabled_slots=[]}setOriginalChanel(e){e&&(this.orignalChannel=e)}};function qr(t){if(["null","nullblank","nullsrcdoc"].includes(t.trim()))return!0;try{let e=new URL(t).origin;return!(e.startsWith("file://")||e==="null")}catch(e){return!1}}var dn="undefined",Wo=`${dn}pubfig.min.js`;var ln="undefined",$r=`${ln}prebid.js`,zr="prod";function Q(t,e,r){if(!e)return;let n=(Array.isArray(e)?e:e.match(/([^[.\]])+/g)).reduce((a,s)=>a&&a[s],t);return n===void 0?r:n}function Wr(t){return t instanceof Object}var P={string:{type:"string",default:""},array:{type:"array",default:[]},object:{type:"object",default:{}},number:{type:"number",default:void 0}};function U({key:t,type:e=P.string.type}){let r=sessionStorage.getItem(t);if(e===P.object.type){if(r){let i=JSON.parse(r);if(Wr(i))return i}return P.object.default}if(e===P.array.type){if(r){let i=JSON.parse(r);if(Array.isArray(i))return i}return P.array.default}if(e===P.number.type){let i=Number(r);return Number.isInteger(i)?i:P.number.default}return r}function Y({key:t,type:e=P.string,value:r}){r&&((e===P.object||e===P.array)&&(r=JSON.stringify(r)),sessionStorage.setItem(t,r))}var mt="pubfig.min.js",Xr="https://a.pub.network/",Qr="freestar-com",Jr="fs.sitePath",un=(t=window.document)=>{let e=t.querySelectorAll(`script[src*="${mt}"]`);return Array.from(e||[]).find(r=>!r.src.includes("/core/"))},pn=t=>{var e,r;return(r=(e=t==null?void 0:t.src)==null?void 0:e.split(Xr)[1])==null?void 0:r.split("/")[0]},gt=t=>{let e=U({key:Jr});if(e&&e!==Qr)return e;let r=un(),i=pn(r||t)||Qr;return Y({key:Jr,value:i,type:P.string}),i},Zr=(t=window,e)=>{var n,a,s;if(Le.includes("localhost"))return Le;let r=t.document.querySelectorAll(`script[src*="${mt}"]`),i=null;return e&&(i=Array.from(r).find(({id:o})=>o===e)),i||(i=Array.from(r).pop()),(s=i==null?void 0:i.src.substring(0,(i==null?void 0:i.src.lastIndexOf("/"))+1))!=null?s:`${Xr}${(a=(n=t.freestar)==null?void 0:n.fsdata)==null?void 0:a.path}/`};var B=[];for(let t=0;t<256;++t)B.push((t+256).toString(16).slice(1));function ei(t,e=0){return(B[t[e+0]]+B[t[e+1]]+B[t[e+2]]+B[t[e+3]]+"-"+B[t[e+4]]+B[t[e+5]]+"-"+B[t[e+6]]+B[t[e+7]]+"-"+B[t[e+8]]+B[t[e+9]]+"-"+B[t[e+10]]+B[t[e+11]]+B[t[e+12]]+B[t[e+13]]+B[t[e+14]]+B[t[e+15]]).toLowerCase()}var Xt,mn=new Uint8Array(16);function Zt(){if(!Xt){if(typeof crypto=="undefined"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Xt=crypto.getRandomValues.bind(crypto)}return Xt(mn)}var gn=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),er={randomUUID:gn};function hn(t,e,r){var n,a,s;if(er.randomUUID&&!e&&!t)return er.randomUUID();t=t||{};let i=(s=(a=t.random)!=null?a:(n=t.rng)==null?void 0:n.call(t))!=null?s:Zt();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){if(r=r||0,r<0||r+16>e.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let o=0;o<16;++o)e[r+o]=i[o];return e}return ei(i)}var ht=hn;var ci=Tr(oi());var tr="fs.session";var si="pageviews",ai="StickyFooter";function wn(){try{let t=U({key:tr,type:P.object.type});return(!t||!t.id)&&(t={id:ht()},Y({key:tr,type:P.object,value:t})),t.id}catch(t){return null}}function _n(){try{let e=Number(sessionStorage.getItem(si)||0)+1;return sessionStorage.setItem(si,e),e}catch(t){return 1}}function fi({dispensaryData:t}){var I,v,y,A;if(window.freestar.initialBrowserInfoSent)return;let e=_n();if(window.freestar.initialBrowserInfoSent=!0,window.freestar.lastHrefPushed=window.location.href,!((I=t.fsdata)!=null&&I.accountId)||!((v=t.fsdata)!=null&&v.siteId))return;let r=(0,ci.default)(window.location.href+freestar.hitTime+(t.fpc||"")).toString(),i=((y=document.querySelector("link[rel='canonical']"))==null?void 0:y.getAttribute("href"))||"",n=wn(),a=U({key:lt,type:P.number.type})||0,s=U({key:be})||null,o=U({key:Me})||null,l=t.getValue("deploymentId"),h=t.getValue("templateVersionId");if(h==null){let L=t.getValue("gitHash");L&&(h=L)}let S={messageId:ht(),pageId:r,url:window.location.href,referalURL:document.referrer||void 0,userAgent:navigator.userAgent,pageviewCount:e,accountId:t.fsdata.accountId,siteId:t.fsdata.siteId,deploymentId:l,templateVersionId:h,testName:s,testGroup:a,testVariantId:o,sessionId:n,browserInformation:[{canonical:i,fpc:((A=freestar.msg)==null?void 0:A.fpc)||"",hitTime:freestar.hitTime,loadTime:Date.now()-freestar.hitTime,winHeight:window.innerHeight||0,winWidth:window.innerWidth||0,maxHeight:0,isServerToServer:!1,googleVersion:""}]};try{fetch(`${dt}/v2/c`,{method:"POST",body:JSON.stringify(S),headers:{"Content-Type":"application/json"},keepalive:!0}).catch(()=>{})}catch(L){}}function bn(){return ai.includes("MODULES")?[]:ai.split(",").map(t=>t.trim())}function di(){if(k("fsdisable"))throw new Error("pubfig disabled.");if(!qr(window.location.href))throw new Error("Pubfig disabled: Invalid page URL detected. Please ensure you are loading from a valid origin.")}function li(){if(freestar.performanceLogger.logMark({markerName:_e.pubfigEngineLoadInit}),freestar.modulesLoaded.engine)return freestar.log(0,"========== ENGINE ALREADY LOADED =========="),!1;let t=window.fsprebid||{};if(window.fsprebid=t,t.que=t.que||[],t.retries=0,freestar.fsdata.disallowedGeos&&freestar.fsdata.disallowedGeos.length&&freestar.fsdata.disallowedGeos.includes(freestar.locData.iso))freestar.log(0,"Ad serving is blocked in "+freestar.locData.iso);else{if(freestar.modulesLoaded.engine)return freestar.log(0,"========== ENGINE ALREADY LOADED =========="),!1;En()}}var En=()=>x(void 0,null,function*(){let t=["engineMobile","engineDesktop","engineFallback"];for(let e of t)try{yield freestar.scriptsManager.loadScript(e);return}catch(r){}});function ui(){let t=window.freestar||{};window.freestar=t,t.log=Cr,t.disableAutoTrackPageviews=t.disableAutoTrackPageviews||!1,t.version=Dr,t.gitHash=Pr,t.hitTime=t.hitTime||Date.now(),t.queue=t.queue||[];let e=new pt(t);t.config=t.config||{},t.configManager=e,t.config.products=e.products,t.config.enabled_slots=e.enabled_slots,t.modulesLoaded=t.modulesLoaded||{engine:!1,messaging:!1,pubfig:!1,prebid:!1},t.msg={},t.msg.dispensaryURL=window.dispensaryUrl||ft,t.consentManagement={consentData:{}},t.analyticsQueue=[],t.featuresIncluded=bn(),t.sitePath=t.sitePath||gt(),t.initialBrowserInfoSent=!1,t.newAdSlots=function(r,i=null){t.loaded||re("newAdSlots"),t.queue.push(function(){t.newAdSlots(r,i)})},t.deleteAdSlots=function(r){t.loaded||re("deleteAdSlots"),t.queue.push(function(){t.deleteAdSlots(r)})},t.newStickyFooter=function(r){t.loaded||re("newStickyFooter"),t.queue.push(function(){t.newStickyFooter(r)})},t.newSidewall=function(r){t.loaded||re("newSidewall"),t.queue.push(function(){t.newSidewall(r)})},t.newVideo=function(r){t.loaded||re("newVideo"),t.queue.push(function(){t.newVideo(r)})},t.newPushdown=function(r){t.loaded||re("newPushdown"),t.queue.push(function(){t.newPushdown(r)})},t.newStandAlonePlayer=function(r){t.loaded||re("newStandAlonePlayer"),t.queue.push(function(){t.newStandAlonePlayer(r)})},t.deleteStandAlonePlayer=function(r){t.loaded||re("deleteStandAlonePlayer"),t.queue.push(function(){t.deleteStandAlonePlayer(r)})}}function pi(){return x(this,null,function*(){let t=["prebid","prebidFallback"];for(let e of t)try{yield freestar.scriptsManager.loadScript(e);return}catch(r){}})}var bt=class{constructor({freestar:e}){this._freestar=e,this._analytics=null,this.isReportingActive=U({key:be})||Math.random()*100<1,e.performanceMarksData=e.performanceMarksData||{pendingMarks:[],processedMarks:[]},this.isFirstLoad=this.getIsFirstLoad()}get performanceMarksData(){return this._freestar.performanceMarksData}set performanceMarksData(e){this._freestar.performanceMarksData=e}setAnalytics(e){this._analytics=e}resetPerformanceLogger(){sessionStorage.removeItem("hasLoadedBefore"),this.performanceMarksData={pendingMarks:[],processedMarks:[]}}fetchPerformanceMarkDetails({markerName:e,compareToData:r}){let i=performance==null?void 0:performance.getEntriesByName(e,"mark");if(i.length===0)return null;let n;r&&(n=performance==null?void 0:performance.getEntriesByName(r,"mark"));let a=i[0];return H({marker_name:a.name,absolute_time:a.startTime.toFixed(2)},this.compareMarks({mark:a,compareToPerformanceMarkData:n}))}compareMarks({mark:e,compareToPerformanceMarkData:r}){if(!r)return{};let i=(e.startTime-r[0].startTime).toFixed(2);return{compared_to:r[0].name,relative_Time:i}}fetchUserDetails(){let{deviceInfo:e,locData:r}=this._freestar,{browser:i,os:n,device:a}=e;return fe(H({},r),{browser_name:i.name,browser_version:i.version,os_name:n.name,os_version:n.version,device_type:a.type})}getIsFirstLoad(){return sessionStorage.getItem("hasLoadedBefore")===null?(sessionStorage.setItem("hasLoadedBefore","true"),!0):!1}sendPerformanceMarkerToQueue({markerName:e,compareTo:r}){if(!(!this.isReportingActive||this.performanceMarksData.processedMarks.includes(e)))if(this.performanceMarksData.processedMarks.push(e),r.length===0){let i=this.fetchPerformanceMarkDetails({markerName:e}),n=this.fetchUserDetails(),a=new $({eventType:"PERFORMANCE",eventName:e.toUpperCase(),data:fe(H(H({},i),n),{is_first_load:this.isFirstLoad,pubfig_version:this._freestar.version})});if(this._analytics){this._analytics.track(a);return}this._freestar.analyticsQueue.push(a)}else r.forEach(i=>{let n=this.fetchPerformanceMarkDetails({markerName:e,compareToData:i}),a=this.fetchUserDetails(),s=new $({eventType:"PERFORMANCE",eventName:e.toUpperCase(),data:fe(H(H({},n),a),{is_first_load:this.isFirstLoad,pubfig_version:this._freestar.version})});if(this._analytics){this._analytics.track(s);return}this._freestar.analyticsQueue.push(s)})}pushAllPendingMarksToMsgQue(){this.performanceMarksData.pendingMarks.forEach(e=>{this.sendPerformanceMarkerToQueue(e)})}logMark({markerName:e,compareTo:r=[],isFreestarDataCollectorInitialized:i=!0}){if(performance.mark(e),!i||!this._freestar.deviceInfo||!this._freestar.locData){this.performanceMarksData.pendingMarks.push({markerName:e,compareTo:r});return}this.sendPerformanceMarkerToQueue({markerName:e,compareTo:r})}logPerformanceMarkers(){let e=performance.getEntriesByType("mark");for(let r of e)console.log(`Mark [${r.name}]: ${r.startTime.toFixed(2)}ms`)}};var In="2.0.2",ur=500,mi="user-agent",Ne="",gi="?",St="function",ge="undefined",Ce="object",pr="string",j="browser",ne="cpu",X="device",W="engine",z="os",Re="result",d="name",c="type",u="vendor",p="version",K="architecture",qe="major",f="model",je="console",R="mobile",N="tablet",F="smarttv",J="wearable",rr="xr",Ke="embedded",Ue="inapp",hr="brands",Ie="formFactors",wr="fullVersionList",xe="platform",_r="platformVersion",vt="bitness",he="sec-ch-ua",yn=he+"-full-version-list",Sn=he+"-arch",An=he+"-"+vt,vn=he+"-form-factors",Tn=he+"-"+R,On=he+"-"+f,Ci=he+"-"+xe,Rn=Ci+"-version",Di=[hr,wr,R,f,xe,_r,K,Ie,vt],Et="Amazon",Te="Apple",hi="ASUS",wi="BlackBerry",Ee="Google",_i="Huawei",bi="Lenovo",Ei="Honor",It="LG",ir="Microsoft",nr="Motorola",or="Nvidia",Ii="OnePlus",sr="OPPO",Fe="Samsung",yi="Sharp",Be="Sony",ar="Xiaomi",cr="Zebra",Si="Chrome",Ai="Chromium",ue="Chromecast",xn="Edge",Ge="Firefox",Ve="Opera",vi="Facebook",Ti="Sogou",Oe="Mobile ",Ye=" Browser",mr="Windows",Nn=typeof window!==ge,q=Nn&&window.navigator?window.navigator:void 0,pe=q&&q.userAgentData?q.userAgentData:void 0,Cn=function(t,e){var r={},i=e;if(!At(e)){i={};for(var n in e)for(var a in e[n])i[a]=e[n][a].concat(i[a]?i[a]:[])}for(var s in t)r[s]=i[s]&&i[s].length%2===0?i[s].concat(t[s]):t[s];return r},Tt=function(t){for(var e={},r=0;r<t.length;r++)e[t[r].toUpperCase()]=t[r];return e},gr=function(t,e){if(typeof t===Ce&&t.length>0){for(var r in t)if(oe(t[r])==oe(e))return!0;return!1}return Pe(t)?oe(e).indexOf(oe(t))!==-1:!1},At=function(t,e){for(var r in t)return/^(browser|cpu|device|engine|os)$/.test(r)||(e?At(t[r]):!1)},Pe=function(t){return typeof t===pr},fr=function(t){if(t){for(var e=[],r=De(/\\?\"/g,t).split(","),i=0;i<r.length;i++)if(r[i].indexOf(";")>-1){var n=$e(r[i]).split(";v=");e[i]={brand:n[0],version:n[1]}}else e[i]=$e(r[i]);return e}},oe=function(t){return Pe(t)?t.toLowerCase():t},dr=function(t){return Pe(t)?De(/[^\d\.]/g,t).split(".")[0]:void 0},se=function(t){for(var e in t){var r=t[e];typeof r==Ce&&r.length==2?this[r[0]]=r[1]:this[r]=void 0}return this},De=function(t,e){return Pe(e)?e.replace(t,Ne):e},He=function(t){return De(/\\?\"/g,t)},$e=function(t,e){if(Pe(t))return t=De(/^\s\s*/,t),typeof e===ge?t:t.substring(0,ur)},lr=function(t,e){if(!(!t||!e))for(var r=0,i,n,a,s,o,l;r<e.length&&!o;){var h=e[r],S=e[r+1];for(i=n=0;i<h.length&&!o&&h[i];)if(o=h[i++].exec(t),o)for(a=0;a<S.length;a++)l=o[++n],s=S[a],typeof s===Ce&&s.length>0?s.length===2?typeof s[1]==St?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:s.length===3?typeof s[1]===St&&!(s[1].exec&&s[1].test)?this[s[0]]=l?s[1].call(this,l,s[2]):void 0:this[s[0]]=l?l.replace(s[1],s[2]):void 0:s.length===4&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):void 0):this[s]=l||void 0;r+=2}},me=function(t,e){for(var r in e)if(typeof e[r]===Ce&&e[r].length>0){for(var i=0;i<e[r].length;i++)if(gr(e[r][i],t))return r===gi?void 0:r}else if(gr(e[r],t))return r===gi?void 0:r;return e.hasOwnProperty("*")?e["*"]:t},Oi={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ri={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},xi={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[d,Oe+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,p],[/opios[\/ ]+([\w\.]+)/i],[p,[d,Ve+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[p,[d,Ve+" GX"]],[/\bopr\/([\w\.]+)/i],[p,[d,Ve]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[p,[d,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[p,[d,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,p],[/quark(?:pc)?\/([-\w\.]+)/i],[p,[d,"Quark"]],[/\bddg\/([\w\.]+)/i],[p,[d,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[d,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[p,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[d,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[p,[d,"Smart "+bi+Ye]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure"+Ye],p],[/\bfocus\/([\w\.]+)/i],[p,[d,Ge+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[d,Ve+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[d,Ve+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[d,"MIUI"+Ye]],[/fxios\/([\w\.-]+)/i],[p,[d,Oe+Ge]],[/\bqihoobrowser\/?([\w\.]*)/i],[p,[d,"360"]],[/\b(qq)\/([\w\.]+)/i],[[d,/(.+)/,"$1Browser"],p],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1"+Ye],p],[/samsungbrowser\/([\w\.]+)/i],[p,[d,Fe+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[p,[d,Ti+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[d,Ti+" Mobile"],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[d,p],[/(lbbrowser|rekonq)/i],[d],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[p,d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,vi],p,[c,Ue]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[d,p,[c,Ue]],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[d,"GSA"],[c,Ue]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[d,"TikTok"],[c,Ue]],[/\[(linkedin)app\]/i],[d,[c,Ue]],[/(chromium)[\/ ]([-\w\.]+)/i],[d,p],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[d,Si+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,Si+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[d,"Android"+Ye]],[/chrome\/([\w\.]+) mobile/i],[p,[d,Oe+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,p],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[p,[d,Oe+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[d,Oe+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[p,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[p,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[d,p],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[d,Oe+Ge],p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],p],[/(wolvic|librewolf)\/([\w\.]+)/i],[d,p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[d,Ge+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[d,[p,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[d,[p,/[^\d\.]+./,Ne]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[K,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[K,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[K,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[K,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[K,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[K,/ower/,Ne,oe]],[/ sun4\w[;\)]/i],[[K,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[K,oe]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[u,Fe],[c,N]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[u,Fe],[c,R]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[u,Te],[c,R]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[u,Te],[c,N]],[/(macintosh);/i],[f,[u,Te]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[u,yi],[c,R]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[f,[u,Ei],[c,N]],[/honor([-\w ]+)[;\)]/i],[f,[u,Ei],[c,R]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[f,[u,_i],[c,N]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[u,_i],[c,R]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[f,/_/g," "],[u,ar],[c,N]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[f,/_/g," "],[u,ar],[c,R]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[u,sr],[c,R]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[f,[u,me,{OnePlus:["304","403","203"],"*":sr}],[c,N]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[u,"Vivo"],[c,R]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[u,"Realme"],[c,R]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[u,nr],[c,R]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[u,nr],[c,N]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[u,It],[c,N]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[u,It],[c,R]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[f,[u,bi],[c,N]],[/(nokia) (t[12][01])/i],[u,f,[c,N]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[f,/_/g," "],[c,R],[u,"Nokia"]],[/(pixel (c|tablet))\b/i],[f,[u,Ee],[c,N]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[u,Ee],[c,R]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[u,Be],[c,R]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[u,Be],[c,N]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[u,Ii],[c,R]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[u,Et],[c,N]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[u,Et],[c,R]],[/(playbook);[-\w\),; ]+(rim)/i],[f,u,[c,N]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[u,wi],[c,R]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[u,hi],[c,N]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[u,hi],[c,R]],[/(nexus 9)/i],[f,[u,"HTC"],[c,N]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[u,[f,/_/g," "],[c,R]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[f,[u,"TCL"],[c,N]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[f,[u,"TCL"],[c,R]],[/(itel) ((\w+))/i],[[u,oe],f,[c,me,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[u,"Acer"],[c,N]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[u,"Meizu"],[c,R]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[u,"Ulefone"],[c,R]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[u,"Energizer"],[c,R]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[u,"Cat"],[c,R]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[u,"Smartfren"],[c,R]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[u,"Nothing"],[c,R]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[u,f,[c,N]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[u,f,[c,R]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[u,f,[c,N]],[/(surface duo)/i],[f,[u,ir],[c,N]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[u,"Fairphone"],[c,R]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[f,[u,or],[c,N]],[/(sprint) (\w+)/i],[u,f,[c,R]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[u,ir],[c,R]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[u,cr],[c,N]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[u,cr],[c,R]],[/smart-tv.+(samsung)/i],[u,[c,F]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[u,Fe],[c,F]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[u,It],[c,F]],[/(apple) ?tv/i],[u,[f,Te+" TV"],[c,F]],[/crkey.*devicetype\/chromecast/i],[[f,ue+" Third Generation"],[u,Ee],[c,F]],[/crkey.*devicetype\/([^/]*)/i],[[f,/^/,"Chromecast "],[u,Ee],[c,F]],[/fuchsia.*crkey/i],[[f,ue+" Nest Hub"],[u,Ee],[c,F]],[/crkey/i],[[f,ue],[u,Ee],[c,F]],[/droid.+aft(\w+)( bui|\))/i],[f,[u,Et],[c,F]],[/(shield \w+ tv)/i],[f,[u,or],[c,F]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[u,yi],[c,F]],[/(bravia[\w ]+)( bui|\))/i],[f,[u,Be],[c,F]],[/(mi(tv|box)-?\w+) bui/i],[f,[u,ar],[c,F]],[/Hbbtv.*(technisat) (.*);/i],[u,f,[c,F]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[u,$e],[f,$e],[c,F]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[f,[c,F]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[c,F]],[/(ouya)/i,/(nintendo) (\w+)/i],[u,f,[c,je]],[/droid.+; (shield)( bui|\))/i],[f,[u,or],[c,je]],[/(playstation \w+)/i],[f,[u,Be],[c,je]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[u,ir],[c,je]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[f,[u,Fe],[c,J]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[u,f,[c,J]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[f,[u,sr],[c,J]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[u,Te],[c,J]],[/(opwwe\d{3})/i],[f,[u,Ii],[c,J]],[/(moto 360)/i],[f,[u,nr],[c,J]],[/(smartwatch 3)/i],[f,[u,Be],[c,J]],[/(g watch r)/i],[f,[u,It],[c,J]],[/droid.+; (wt63?0{2,3})\)/i],[f,[u,cr],[c,J]],[/droid.+; (glass) \d/i],[f,[u,Ee],[c,rr]],[/(pico) (4|neo3(?: link|pro)?)/i],[u,f,[c,rr]],[/; (quest( \d| pro)?)/i],[f,[u,vi],[c,rr]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[u,[c,Ke]],[/(aeobc)\b/i],[f,[u,Et],[c,Ke]],[/(homepod).+mac os/i],[f,[u,Te],[c,Ke]],[/windows iot/i],[[c,Ke]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[f,[c,me,{mobile:"Mobile",xr:"VR","*":N}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[c,N]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[c,R]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[f,[u,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[d,xn+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[d,p],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,p],[/ladybird\//i],[[d,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,p],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[d,[p,me,Oi]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,me,Oi],[d,mr]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"macOS"],[p,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[p,[d,ue+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[p,[d,ue+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[p,[d,ue+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[p,[d,ue+" Linux"]],[/crkey\/([\d\.]+)/i],[p,[d,ue]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,d],[/(ubuntu) ([\w\.]+) like android/i],[[d,/(.+)/,"$1 Touch"],p],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[d,p],[/\(bb(10);/i],[p,[d,wi]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[p,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[d,Ge+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[d,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,"Chrome OS"],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,p],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,p]]},yt=function(){var t={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return se.call(t.init,[[j,[d,p,qe,c]],[ne,[K]],[X,[c,f,u]],[W,[d,p]],[z,[d,p]]]),se.call(t.isIgnore,[[j,[p,qe]],[W,[p]],[z,[p]]]),se.call(t.isIgnoreRgx,[[j,/ ?browser$/i],[z,/ ?os$/i]]),se.call(t.toString,[[j,[d,p]],[ne,[K]],[X,[u,f]],[W,[d,p]],[z,[d,p]]]),t}(),Dn=function(t,e){var r=yt.init[e],i=yt.isIgnore[e]||0,n=yt.isIgnoreRgx[e]||0,a=yt.toString[e]||0;function s(){se.call(this,r)}return s.prototype.getItem=function(){return t},s.prototype.withClientHints=function(){return pe?pe.getHighEntropyValues(Di).then(function(o){return t.setCH(new Pi(o,!1)).parseCH().get()}):t.parseCH().get()},s.prototype.withFeatureCheck=function(){return t.detectFeature().get()},e!=Re&&(s.prototype.is=function(o){var l=!1;for(var h in this)if(this.hasOwnProperty(h)&&!gr(i,h)&&oe(n?De(n,this[h]):this[h])==oe(n?De(n,o):o)){if(l=!0,o!=ge)break}else if(o==ge&&l){l=!l;break}return l},s.prototype.toString=function(){var o=Ne;for(var l in a)typeof this[a[l]]!==ge&&(o+=(o?" ":Ne)+this[a[l]]);return o||ge}),pe||(s.prototype.then=function(o){var l=this,h=function(){for(var I in l)l.hasOwnProperty(I)&&(this[I]=l[I])};h.prototype={is:s.prototype.is,toString:s.prototype.toString};var S=new h;return o(S),S}),new s};function Pi(t,e){if(t=t||{},se.call(this,Di),e)se.call(this,[[hr,fr(t[he])],[wr,fr(t[yn])],[R,/\?1/.test(t[Tn])],[f,He(t[On])],[xe,He(t[Ci])],[_r,He(t[Rn])],[K,He(t[Sn])],[Ie,fr(t[vn])],[vt,He(t[An])]]);else for(var r in t)this.hasOwnProperty(r)&&typeof t[r]!==ge&&(this[r]=t[r])}function Ni(t,e,r,i){return this.get=function(n){return n?this.data.hasOwnProperty(n)?this.data[n]:void 0:this.data},this.set=function(n,a){return this.data[n]=a,this},this.setCH=function(n){return this.uaCH=n,this},this.detectFeature=function(){if(q&&q.userAgent==this.ua)switch(this.itemType){case j:q.brave&&typeof q.brave.isBrave==St&&this.set(d,"Brave");break;case X:!this.get(c)&&pe&&pe[R]&&this.set(c,R),this.get(f)=="Macintosh"&&q&&typeof q.standalone!==ge&&q.maxTouchPoints&&q.maxTouchPoints>2&&this.set(f,"iPad").set(c,N);break;case z:!this.get(d)&&pe&&pe[xe]&&this.set(d,pe[xe]);break;case Re:var n=this.data,a=function(s){return n[s].getItem().detectFeature().get()};this.set(j,a(j)).set(ne,a(ne)).set(X,a(X)).set(W,a(W)).set(z,a(z))}return this},this.parseUA=function(){return this.itemType!=Re&&lr.call(this.data,this.ua,this.rgxMap),this.itemType==j&&this.set(qe,dr(this.get(p))),this},this.parseCH=function(){var n=this.uaCH,a=this.rgxMap;switch(this.itemType){case j:case W:var s=n[wr]||n[hr],o;if(s)for(var l in s){var h=s[l].brand||s[l],S=s[l].version;this.itemType==j&&!/not.a.brand/i.test(h)&&(!o||/chrom/i.test(o)&&h!=Ai)&&(h=me(h,{Chrome:"Google Chrome",Edge:"Microsoft Edge","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome"}),this.set(d,h).set(p,S).set(qe,dr(S)),o=h),this.itemType==W&&h==Ai&&this.set(p,S)}break;case ne:var I=n[K];I&&(I&&n[vt]=="64"&&(I+="64"),lr.call(this.data,I+";",a));break;case X:if(n[R]&&this.set(c,R),n[f]&&(this.set(f,n[f]),!this.get(c)||!this.get(u))){var v={};lr.call(v,"droid 9; "+n[f]+")",a),!this.get(c)&&v.type&&this.set(c,v.type),!this.get(u)&&v.vendor&&this.set(u,v.vendor)}if(n[Ie]){var y;if(typeof n[Ie]!="string")for(var A=0;!y&&A<n[Ie].length;)y=me(n[Ie][A++],Ri);else y=me(n[Ie],Ri);this.set(c,y)}break;case z:var L=n[xe];if(L){var M=n[_r];L==mr&&(M=parseInt(dr(M),10)>=13?"11":"10"),this.set(d,L).set(p,M)}this.get(d)==mr&&n[f]=="Xbox"&&this.set(d,"Xbox").set(p,void 0);break;case Re:var m=this.data,g=function(O){return m[O].getItem().setCH(n).parseCH().get()};this.set(j,g(j)).set(ne,g(ne)).set(X,g(X)).set(W,g(W)).set(z,g(z))}return this},se.call(this,[["itemType",t],["ua",e],["uaCH",i],["rgxMap",r],["data",Dn(this,t)]]),this}function Z(t,e,r){if(typeof t===Ce?(At(t,!0)?(typeof e===Ce&&(r=e),e=t):(r=t,e=void 0),t=void 0):typeof t===pr&&!At(e,!0)&&(r=e,e=void 0),r&&typeof r.append===St){var i={};r.forEach(function(l,h){i[h]=l}),r=i}if(!(this instanceof Z))return new Z(t,e,r).getResult();var n=typeof t===pr?t:r&&r[mi]?r[mi]:q&&q.userAgent?q.userAgent:Ne,a=new Pi(r,!0),s=e?Cn(xi,e):xi,o=function(l){return l==Re?function(){return new Ni(l,n,s,a).set("ua",n).set(j,this.getBrowser()).set(ne,this.getCPU()).set(X,this.getDevice()).set(W,this.getEngine()).set(z,this.getOS()).get()}:function(){return new Ni(l,n,s[l],a).parseUA().get()}};return se.call(this,[["getBrowser",o(j)],["getCPU",o(ne)],["getDevice",o(X)],["getEngine",o(W)],["getOS",o(z)],["getResult",o(Re)],["getUA",function(){return n}],["setUA",function(l){return Pe(l)&&(n=l.length>ur?$e(l,ur):l),this}]]).setUA(n),this}Z.VERSION=In;Z.BROWSER=Tt([d,p,qe,c]);Z.CPU=Tt([K]);Z.DEVICE=Tt([f,u,c,je,R,F,N,J,Ke]);Z.ENGINE=Z.OS=Tt([d,p]);var Li="desktop";var br="fs.session",Ot=class{constructor({freestar:e,window:r}){de(this,"deviceInfo",{});var n;this._freestar=e,this._window=r,this.cdep=!!this._freestar.cdep;let i=JSON.parse(U({key:br}));this.known=Number((n=i==null?void 0:i.known)!=null?n:0)}initManager(){this._window.freestar=this._window.freestar||{},this._setDeviceType()}_setDeviceType(){this.deviceInfo=Z(),this._window.freestar.deviceInfo=this.deviceInfo,this.deviceInfo.device.type||(this.deviceInfo.device={type:Li})}get userAgent(){let e=this.deviceInfo.browser.name,r=this.deviceInfo.os.name;return r==="Mac OS"&&e==="Safari"?"Safari":r==="iOS"?"iOS":e}_update(e){this.known=e;let r=JSON.parse(U({key:br}));if((r==null?void 0:r.known)!==this.known){let i=fe(H({},r),{known:this.known});Y({key:br,type:P.object,value:i})}}get isKnownByPrebidUser(){var e;return!!((e=window.fsprebid)!=null&&e.getUserIds&&Object.keys(window.fsprebid.getUserIds()).length)}get isCDEPUser(){return this.cdep}get _isKnown(){return Number(!this.isCDEPUser&&this.isKnownByPrebidUser)}get isKnown(){return this._update(this._isKnown),this.known}};var ze="fs.altConfig";var Rt=" exiting after creating new instance...",Ir=class{constructor({win:e=window}={}){this._window=e,this._window._pubfigInstanceManagerConfig=this._window._pubfigInstanceManagerConfig||{},this.config=this._window._pubfigInstanceManagerConfig,this.fsLoadPubfigVersionUrlParams=k(ie.fsLoadPubfigVersion,e),this.fsLoadPubfigVersionUrlParams&&(this._window.freestar.pubfigVersionToLoad=this.fsLoadPubfigVersionUrlParams),this.fsAltConfigUrlParams=this._getAltConfigVersion(),this.isQA=k(ie.fsdebug,e),this._currentSitePath=this._window.freestar.sitePath}_getAltConfigVersion(){let e=k(ie.fsaltconfig,this._window),r=U({key:ze});return e||r}setPubfigMinCurrentId(e){Object.values(le).includes(e)&&(this.config.pubfigMinCurrentId=e)}get sourcesPath(){return Zr(this._window,this.config.pubfigMinCurrentId)}loadAlternativeInstance({src:e,errorString:r}){let i=jt({type:"script",id:this.config.pubfigMinCurrentId,src:e},this._window.document);throw this._window.document.head.appendChild(i),new Error(r)}checkForAlternativeInstances({isTest:e,onAlternativeInstanceFound:r}={isTest:"",onAlternativeInstanceFound:()=>{}}){this.fsLoadPubfigVersionUrlParams&&!this.config.loadPubfigVersionRedirect&&(this.config.loadPubfigVersionRedirect=!0,this.setPubfigMinCurrentId(le.playwrightTestsScriptId),r(),this.loadAlternativeInstance({src:`https://a.pub.network/core/pubfig/${this.fsLoadPubfigVersionUrlParams}/pubfig.min.js`,errorString:`PLAYWRIGHTS TEST FOUND -${Rt}`})),e&&e.length&&(r(),this.setPubfigMinCurrentId(le.abTestsScriptId),this._window.freestar.redirected=!0,this.loadAlternativeInstance({src:e,errorString:`AB TEST FOUND -${Rt}`}));let i=Array.from(document.querySelectorAll(`script#${le.fsAltConfigScriptId}`));if(this.fsAltConfigUrlParams&&i.length===0&&(Y({key:ze,value:this.fsAltConfigUrlParams}),r(),this.setPubfigMinCurrentId(le.fsAltConfigScriptId),this.loadAlternativeInstance({src:`https://a.pub.network/${this._currentSitePath}/test/${this.fsAltConfigUrlParams}/pubfig.min.js?bypass=true`,errorString:`Alternate Configuration - found alt version,${Rt}`})),this.isQA&&!this.config.fsQaRedirect){this.config.fsQaRedirect=!0;let n;document.querySelectorAll("script").forEach(a=>{if(a.innerText.includes("qa/pubfig")){n=!0;return}}),n||(r(),this.setPubfigMinCurrentId(le.qaScriptId),this.loadAlternativeInstance({src:`https://a.pub.network/${this._currentSitePath}/qa/pubfig.min.js`,errorString:`QA version called via params -${Rt}`}))}}},Er=null;function ee(){return Er||(Er=new Ir),Er}function Mi({freestar:t=window.freestar,network:e}){return!e.deviceExclusive||e.deviceExclusive.toLowerCase()===t.deviceInfo.device.type}var Pn={emxdigital:"emx_digital",synacor:"synacormedia"},xt=class{constructor({freestar:e}){this._freestar=e}_normalizeLocation(e){let i=Q(e,"location");if(i)return{iso:i.countryCode,city:i.cityName,state:i.state}}networkSlugModification(e=""){return Pn[e]||e}_processNetworkMap(e){return Q(e,"networkMap.networks")}_adaptFsDataSettings(e){var i,n,a,s;let r=Q(e,"pubfigSettings.fsdata");return r&&(r.timeout=(i=r.timeout)!=null?i:3e3,r.mobileTimeout=(n=r.mobileTimeout)!=null?n:3e3),(a=r==null?void 0:r.placements)!=null&&a.length&&(r.placements=this._filterOutArchivedPlacements(r.placements),r.placements.forEach(o=>{o.sizeMappings.sort(function(l,h){return l.viewport.size[0]===h.viewport.size[0]?0:l.viewport.size[0]>h.viewport.size[0]?-1:1})})),(s=r==null?void 0:r.networks)!=null&&s.length&&(r.networks=this._getDeviceExclusiveNetworks(r.networks)),r}_getDeviceExclusiveNetworks(e){return e.filter(r=>Mi({freestar:this._freestar,network:r}))}_filterOutArchivedPlacements(e){return e.filter(r=>!r.archived)}_getFpc(e){return e.fsuid}_getAbTest(e){var r;return(r=Q(e,"pubfigSettings.abTest"))!=null?r:{}}_getPubfigLocation(e){return Q(e,"pubfigSettings.pubfigLocation")}adapt(e){return!e||Object.keys(e).length===0?(console.error("Empty data provided to DispensaryDataAdapter"),{}):{fpc:this._getFpc(e),location:this._normalizeLocation(e),networkMap:this._processNetworkMap(e),fsdata:this._adaptFsDataSettings(e,e.adRefresh),abTest:this._getAbTest(e),pubfigLocation:this._getPubfigLocation(e)}}};var Nt=class{constructor({freestar:e}){this.adapters={dispensaryData:new xt({freestar:e})}}adapt(e,r){if(!this.adapters[e])throw new Error(`No adapter found for data type ${e}`);return this.adapters[e].adapt(r)}};var Ct=class{constructor({freestar:e}){de(this,"_isLoaded",!1);this._freestar=e,this.fpc,this.locData,this.networkMap,this.fsdata,this.config={},this.envAndConfig,this.cdep,this.dataAdapter=new Nt({freestar:e})}load(){return x(this,null,function*(){this._isLoaded||(this._setEnvironmentAndConfig(),yield this._fetchDispensaryData(),this.cdep=yield this._getCookieDeprecationLabel(),this._isLoaded=!0)})}_setEnvironmentAndConfig(){let e=Or(ie.fsdebug),r=k(ie.fsaltconfig),i=U({key:ze}),n=r||i,a=k("fstesturl");this.envAndConfig={env:"PROD",version:!1,altUrl:a},e?this.envAndConfig.env="QA":n&&n>0&&(this.envAndConfig.env="TEST",this.envAndConfig.version=n)}_getCookieDeprecationLabel(){return x(this,null,function*(){return"cookieDeprecationLabel"in navigator?navigator.cookieDeprecationLabel.getValue():null})}_getInitUrl(){let e=`${ft}/v2/sites/${this._freestar.sitePath}/configs?env=${this.envAndConfig.env}`;this.envAndConfig.env==="TEST"&&(e+=Lr.replace("NUMBER",this.envAndConfig.version.toString())),this.envAndConfig.env!=="PROD"&&(e+=Mr);let r=U({key:be}),i=U({key:Me});return r&&(e+=kr.replace("TEST_ID",r)),i&&(e+=Ur.replace("VARIANT_ID",i)),e}_fallBackFetch(){return x(this,null,function*(){let e=yield fetch(`https://a.pub.network/${this._freestar.sitePath}/fsdata.json`);if(!e.ok){let i=`No data returned from fsdata fallback endpoint: ${e.status}`;throw new Error(i)}let r=yield e.json();r?(this.fsdata=r,this.locData=null,this.networkMap=null):console.error("DispensaryData: No data returned from dispensary endpoint")})}_reportEmptyData(){freestar.analyticsQueue.push(new $({eventName:"INIT_ENDPOINT_FAILED",eventType:"EMPTY_FSDATA",data:freestar.fsdata})),console.error("DispensaryData: Empty data returned")}abTestDataFetchAndSet({pubfigSettings:{abTest:e,pubfigLocation:r}}){if(e&&!this._freestar.redirected){let{testGroup:i,testId:n,testType:a,testVariantId:s}=e;if(`${i}`.length&&Y({key:lt,value:`${i}`,type:P.string}),n&&Y({key:be,value:n,type:P.string}),s&&Y({key:Me,value:s,type:P.string}),a&&(Y({key:Fr,value:a,type:P.string}),r))return Y({key:Br,value:r,type:P.string}),r}return!1}_getLocationData(e,r){let i=Q(e,r);if(i)return{iso:i.countryCode,city:i.cityName,state:i.state}}_processData(e){let r=this.dataAdapter.adapt("dispensaryData",e);ee().checkForAlternativeInstances({isTest:this.abTestDataFetchAndSet(e),onAlternativeInstanceFound:()=>{this._freestar.performanceLogger.resetPerformanceLogger(),this._freestar.modulesLoaded.pubfig=!1}}),this.fpc=r.fpc,this.locData=r.location,this.networkMap=r.networkMap,this.fsdata=r.fsdata,this.abTest=r.abTest,this.pubfigLocation=r.pubfigLocation}_fetchDispensaryData(){return x(this,null,function*(){let e=U({key:Qt});if(e&&(e=JSON.parse(e),e.timestamp&&(Date.now()-e.timestamp)/1e3/60>=3*60&&(e=null)),(this.envAndConfig.env!=="PROD"||this.envAndConfig.env==="PROD"&&e&&e.altconfig)&&(e=null),!e)try{let r=yield fetch(this._getInitUrl(),{credentials:"include"});if(!r.ok)throw console.log(`DispensaryData: No data returned from initURL fetching fsdata endpoint: ${r.status}`),new Error("Fetching dispensary data failed");if(e=yield r.json(),!e||Object.keys(e).length===0)throw this._reportEmptyData(),new Error("Empty data returned");e.timestamp=Date.now(),this.envAndConfig.env==="TEST"&&!e.altconfig&&(e.altconfig=!0),Y({key:Qt,value:e,type:P.object})}catch(r){yield this._fallBackFetch();return}this._processData(e)})}getValue(e){return Q(this.fsdata,e)}};var Dt=class{constructor({win:e,scripts:r=[]}={}){this._win=e,this._scripts=new Map(r.map(i=>[i.id,i]))}addScripts(e){e.forEach(r=>this._scripts.set(r.id,r))}getScript(e){return this._scripts.get(e)}loadScript(e){return x(this,null,function*(){let r=this.getScript(e);if(!r)throw new Error(`Script ${e} not found`);return r.load()})}loadScripts(){return x(this,arguments,function*({id:e=[]}={}){let r=e.flatMap(i=>this.getScript(i)||[]);return Promise.all(r.map(i=>i.load()))})}};var ye={IDLE:"idle",PENDING:"pending",READY:"ready",SKIPPED:"skipped",ERROR:"error"},G=class{constructor({id:e,location:r}){this.status=ye.IDLE,this.id=e,this.location=r,this._onLoad=[]}onLoad(e){if(this.status===ye.READY){e();return}this._onLoad.push(e)}beforeLoad(){return!0}afterLoad(){}load(){return x(this,null,function*(){if(this.status!==ye.IDLE)return;if(this.status=ye.PENDING,!this.beforeLoad()){this.status=ye.SKIPPED;return}try{yield Nr(this.location,null,null),this.afterLoad(),this._onLoad.forEach(r=>r()),this._onLoad=[],this.status=ye.READY}catch(r){throw this.status=ye.ERROR,r}})}};var Pt=class extends G{constructor({freestar:e=window.freestar,instanceManager:r=ee()}={}){super({id:"engineMobile",location:`${r.sourcesPath}pubfig.engine.mobile.js`}),this._freestar=e}load(){var r,i,n;let e=(n=(i=(r=this._freestar.deviceInfo)==null?void 0:r.device)==null?void 0:i.type)!=null?n:"desktop";if(!(e.toLowerCase()==="mobile"))throw new Error("device type not supported");return super.load()}afterLoad(){this._restoreGlobalUnderscore()}_restoreGlobalUnderscore(){this._freestar.globalUnderscore&&(window._=this._freestar.globalUnderscore)}};var Lt=class extends G{constructor({freestar:e=window.freestar,instanceManager:r=ee()}={}){super({id:"engineDesktop",location:`${r.sourcesPath}pubfig.engine.js`}),this._freestar=e}afterLoad(){this._restoreGlobalUnderscore()}_restoreGlobalUnderscore(){this._freestar.globalUnderscore&&(window._=this._freestar.globalUnderscore)}};var Mt="https://a.pub.network/core/pubfig";var kt=class extends G{constructor({freestar:e=window.freestar}={}){super({id:"engineFallback",location:`${Mt}/${e.version}/pubfig.engine.js`}),this._freestar=e}afterLoad(){this._restoreGlobalUnderscore()}_restoreGlobalUnderscore(){this._freestar.globalUnderscore&&(window._=this._freestar.globalUnderscore)}};var Ln="https://securepubads.g.doubleclick.net/tag/js/gpt.js",Ut=class extends G{constructor({win:e=window,dispensaryData:r}={}){super({id:"gam",location:""}),this._win=e,this._dispensaryData=r,this._setLocation()}beforeLoad(){return this._win.googletag=this._win.googletag||{},this._win.googletag.cmd=this._win.googletag.cmd||[],!0}_getGamNetworkCode(){var n,a,s;let e=(n=this._dispensaryData.fsdata)==null?void 0:n.placements,r=e==null?void 0:e[0],i=(a=r==null?void 0:r.dfpId)==null?void 0:a.split("/");return!i||i.length<2?null:((s=i[1])==null?void 0:s.split(",")[0])||null}_setLocation(){this.location=Ln}};var Ft=class extends G{constructor({instanceManager:e=ee()}={}){let i=zr==="dev"?$r:`${e.sourcesPath}prebid.js`;super({id:"prebid",location:i})}};var Bt=class extends G{constructor({freestar:e=window.freestar}={}){super({id:"prebidFallback",location:`${Mt}/${e.version}/prebid.js`})}};var ki=({getIsFound:t,getElement:e=()=>null,callback:r,timeout:i=5e3,frequency:n=300})=>{let a=0,s=t(),o=e();if(s){r(s,o);return}let l=setInterval(()=>{a=a+1;let h=t(),S=e();(h||a>=i/n)&&(r(h,S),clearInterval(l))},n)};var Mn=({elementSelector:t,callback:e,timeout:r=5e3,frequency:i=300,doc:n=document})=>{ki({getIsFound:()=>!!n.querySelector(t),getElement:()=>n.querySelector(t),callback:(a,s)=>{e(a,s)},timeout:r,frequency:i})},Ui=(...e)=>x(void 0,[...e],function*(t={}){return new Promise(r=>{Mn(fe(H({},t),{callback:(i,n)=>{r({isFound:i,element:n})}}))})});var kn="https://a.pub.network/core/assertive-yield/analytics-tracker.min.js",Un="txtgrwFYoLwCfRH7a",Gt=class extends G{constructor(){super({id:"assertiveYield",location:kn})}afterLoad(){var e;(e=window.ayS2STag)==null||e.init({entityId:Un,pbjs:"fsprebid",analytics:{enabled:!0}})}};var Fn=[{owner:"google",ua:"googlebot"},{owner:"google",ua:"mediapartners-google"},{owner:"google",ua:"adsbot-google"},{owner:"bing",ua:"bingbot"},{owner:"yahoo",ua:"slurp"},{owner:"duckduckgo",ua:"duckduckbot"},{owner:"baidu",ua:"baiduspider"},{owner:"yandex",ua:"yandexbot"},{owner:"exabot",ua:"konqueror/3.5"},{owner:"exabot",ua:"Exabot/3.0"},{owner:"facebook",ua:"facebot"},{owner:"facebook",ua:"facebookexternalhit/1.0"},{owner:"facebook",ua:"facebookexternalhit/1.1"},{owner:"alexa",ua:"ia_archiver"},{owner:"meta",ua:"meta-externalads/1.1"},{owner:"meta",ua:"meta-externalagent/1.1"},{owner:"meta",ua:"meta-externalfetcher/1.1"},{owner:"aws",ua:"CloudWatchSynthetics/"},{owner:"amazon",ua:"AmazonAdBot"}],Vt=class{constructor(){}checkForBot(){var n;let e=((n=window.navigator)==null?void 0:n.userAgent)||(navigator==null?void 0:navigator.userAgent),r="fs.bot.found",i=zt({name:r});i&&i?this._handleBotDetected(r,e):e&&!i&&(Fn.forEach(a=>{RegExp(a.ua.toLowerCase()).test(e.toLowerCase())&&this._handleBotDetected(r,e)}),$t({name:r,value:!1}))}_handleBotDetected(e,r){throw this._isDetected=!0,this._trackEvent(),$t({botCookieName:e,value:!0}),`pubfig code is disabled as the user agent ${r} is a bot`}_trackEvent(){return x(this,null,function*(){let e=new $({eventName:"BOT_DETECTED",eventType:"botDetected",data:{detected:!0}});yield fetch(`${dt}/v2/c`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customEvent:[e.payload],accountId:freestar.fsdata.accountId,siteId:freestar.fsdata.siteId}),credentials:"include"})})}};(function(){return x(this,null,function*(){var i,n,a,s,o,l,h;if(di(),(n=(i=window.freestar)==null?void 0:i.modulesLoaded)!=null&&n.pubfig)return;ui(),freestar.modulesLoaded.pubfig=!0;let e=new bt({freestar:window.freestar});freestar.performanceLogger=e,e.logMark({markerName:_e.pubfigLoaded,isFreestarDataCollectorInitialized:!1});let r=new Ot({freestar:window.freestar,window});r.initManager(),freestar.userInfoManager=r;try{ee().checkForAlternativeInstances({isTest:!1,onAlternativeInstanceFound:()=>{e.resetPerformanceLogger(),freestar.fsdata=null,freestar.modulesLoaded.pubfig=!1}}),e.logMark({markerName:_e.pubfigInitRequestStart,isFreestarDataCollectorInitialized:!1});let{element:S}=yield Ui({elementSelector:`script[src*="${mt}"]`,doc:window.document,frequency:10});freestar.sitePath==="freestar-com"&&(freestar.sitePath=gt(S));let I=new Ct({freestar});yield I.load(),freestar.dispensaryData=I,freestar.cdep=I.cdep,freestar.fsdata=(a=I.fsdata)!=null?a:{},freestar.msg.fpc=(s=I.fpc)!=null?s:"",freestar.locData=(o=I.locData)!=null?o:{},freestar.networkMap=(l=I.networkMap)!=null?l:{},new Vt().checkForBot(),fi({dispensaryData:I}),freestar.scriptsManager=new Dt({win:window,scripts:[new Gt,new Ft,new Bt,new Ut({dispensaryData:I}),new Pt,new Lt,new kt]})}catch(S){return console.warn(`Warning: ${S.message}`),S}if(freestar.thirdPartyVendorTest=["US","CA","MX"].includes((h=freestar==null?void 0:freestar.locData)==null?void 0:h.iso),freestar.thirdPartyVendorTest)try{yield freestar.scriptsManager.loadScripts({id:["assertiveYield"]})}catch(S){}pi(),freestar.scriptsManager.loadScripts({id:["gam"]}),e.logMark({markerName:_e.pubfigInitRequestEnd,compareTo:[_e.pubfigInitRequestStart]}),li()})})();})();
